(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a83bf09"],{8418:function(t,e,r){"use strict";var a=r("c04e"),s=r("9bf2"),i=r("5c6c");t.exports=function(t,e,r){var n=a(e);n in t?s.f(t,n,i(0,r)):t[n]=r}},"99af":function(t,e,r){"use strict";var a=r("23e7"),s=r("d039"),i=r("e8b5"),n=r("861d"),o=r("7b0b"),c=r("50c4"),d=r("8418"),u=r("65f0"),l=r("1dde"),_=r("b622"),h=r("2d00"),p=_("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",m=h>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=l("concat"),y=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},C=!m||!b;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,r,a,s,i,n=o(this),l=u(n,0),_=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?n:arguments[e],y(i)){if(s=c(i.length),_+s>v)throw TypeError(f);for(r=0;r<s;r++,_++)r in i&&d(l,_,i[r])}else{if(_>=v)throw TypeError(f);d(l,_++,i)}return l.length=_,l}})},c5fe:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("section",[r("div",{staticClass:"curtain",class:{curtainShow:t.curtainOpen}}),r("div",{staticClass:"rightCurtain1",class:{curtainShow:t.rightCurtainisOpen}}),r("div",{staticClass:"rightCurtain2",class:{curtain2Show:t.rightCurtainisOpen}})]),t.order.is_paid?t._e():r("div",{staticClass:"d-flex justify-content-center mt-3 mb-2 pt-5"},[r("h2",{staticClass:"text-primary checkOutTitle mt-5 mb-5"},[t._v("S T E P 2 . 確 認 訂 單")])]),t.order.is_paid?r("div",{staticClass:"d-flex justify-content-center mt-3 mb-2 pt-5"},[r("h2",{staticClass:"text-primary checkOutTitle mt-5 mb-5"},[t._v("S T E P 3 . 完 成 訂 單")])]):t._e(),r("section",[r("div",{staticClass:"container"},[t.order.is_paid?t._e():r("table",{staticClass:"table text-secondary mb-5"},[t._m(0),r("tbody",t._l(t.order.products,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"text-center"},[r("img",{staticClass:"mt-3",attrs:{src:e.product.imageUrl,alt:"商品圖片",width:"50px",height:"45px"}})]),r("td",[r("span",[t._v(" "+t._s(e.product.title)+" ")]),r("br"),r("span",[t._v(" "+t._s(e.qty)+" / "+t._s(e.product.unit)+" ")]),r("br"),r("span",{staticClass:"text-right text-primary d-block"},[t._v(" "+t._s(t._f("dollarSign")(e.total))+" ")])])])})),0),r("tfoot",[r("tr",[r("td",{staticClass:"text-right"},[t._v("總金額")]),r("td",{staticClass:"text-right text-primary h4"},[t._v(" NT"+t._s(t._f("dollarSign")(t.order.total))+" ")])])])]),r("table",{staticClass:"table text-secondary"},[t._m(1),r("tbody",[r("tr",[r("td",[t._v("訂單編號")]),r("td",[t._v(" "+t._s(t.order.id)+" ")])]),r("tr",[r("td",[t._v("付款方式")]),"creditCard"===t.payMethod?r("td",[t._v(" 線上刷卡 ")]):t._e(),"cash"===t.payMethod?r("td",[t._v(" 貨到付款 ")]):t._e(),"ATM"===t.payMethod?r("td",[t._v(" ATM轉帳 ")]):t._e()]),"ATM"===t.payMethod?r("tr",[r("td",[t._v("收款銀行")]),t._m(2)]):t._e(),r("tr",[r("td",[t._v("總金額")]),r("td",{staticClass:"text-primary"},[t._v(" "+t._s(t._f("dollarSign")(t.total))+" ")])]),r("tr",[r("td",[t._v("付款狀態")]),t.order.is_paid?r("td",{staticClass:"text-success"},[t._v(" 已完成付款 ")]):t._e(),t.order.is_paid?t._e():r("td",{staticClass:"text-danger"},[t._v(" 未付款 ")])]),r("tr",[r("td",[t._v("收件人姓名")]),r("td",[t._v(" "+t._s(t.order.user.name)+" ")])]),r("tr",[r("td",[t._v("電子信箱")]),r("td",[t._v(" "+t._s(t.order.user.email)+" ")])]),r("tr",[r("td",[t._v("聯絡電話")]),r("td",[t._v(" "+t._s(t.order.user.tel)+" ")])]),r("tr",[r("td",[t._v("收件地址")]),r("td",[t._v(" "+t._s(t.order.user.address)+" ")])])])]),t.order.is_paid?t._e():r("div",{staticClass:"d-flex justify-content-end mb-5"},[r("button",{staticClass:"btn btn-primary text-white btn-lg",on:{click:function(e){return e.preventDefault(),t.payOrder(e)}}},[t._v("付款去")])]),t.order.is_paid?r("div",{staticClass:"d-flex justify-content-center my-5"},[r("button",{staticClass:"btn btn-primary text-white btn-lg w-50",on:{click:function(e){return e.preventDefault(),t.toWhere("products")}}},[t._v("繼 續 逛 逛")])]):t._e()])])])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",{staticClass:"bg-primary text-white border-0"},[r("th",{attrs:{colspan:"2"}},[t._v("訂單商品")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"bg-primary"},[r("tr",[r("th",{staticClass:"text-white border-0",attrs:{colspan:"2"}},[t._v("確 認 訂 單")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",[t._v(" 喵喵銀行(877) "),r("br"),t._v(" 帳號 : 1234-123-123456 ")])}],i=(r("99af"),{data:function(){return{payMethod:"",orderId:"",curtainOpen:!1,rightCurtainisOpen:!1,order:{user:{}},cartsLen:1,total:1}},methods:{getPayMethod:function(t){var e=this;e.payMethod=t},getOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("youxiaaa","/order/").concat(t.orderId);t.$http.get(e).then((function(e){e.data.success&&(t.curtainOpen=!0,t.order=e.data.order,t.total=e.data.order.total,t.orderId=e.data.order.id)}))},payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("youxiaaa","/pay/").concat(t.orderId);t.rightCurtainisOpen=!0,t.$http.post(e).then((function(e){e.data.success&&(t.getOrder(),setTimeout((function(){t.$bus.$emit("getPathName"),t.rightCurtainisOpen=!1}),1e3))}))},toWhere:function(t){var e=this;e.$bus.$emit("toWhere",t)}},created:function(){var t=this;t.orderId=t.$route.params.orderId,t.$bus.$on("PayMethod",(function(e,r,a){t.getPayMethod(e)})),t.getOrder(),t.$bus.$emit("getPathName"),document.body.scrollTop=0,document.documentElement.scrollTop=0}}),n=i,o=r("2877"),c=Object(o["a"])(n,a,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-1a83bf09.02cdd56c.js.map